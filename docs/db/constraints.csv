schema_name,table_name,constraint_name,constraint_type,constraint_definition
auth,audit_log_entries,audit_log_entries_pkey,p,PRIMARY KEY (id)
auth,flow_state,flow_state_pkey,p,PRIMARY KEY (id)
auth,identities,identities_pkey,p,PRIMARY KEY (id)
auth,identities,identities_provider_id_provider_unique,u,"UNIQUE (provider_id, provider)"
auth,identities,identities_user_id_fkey,f,FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE
auth,instances,instances_pkey,p,PRIMARY KEY (id)
auth,mfa_amr_claims,amr_id_pk,p,PRIMARY KEY (id)
auth,mfa_amr_claims,mfa_amr_claims_session_id_authentication_method_pkey,u,"UNIQUE (session_id, authentication_method)"
auth,mfa_amr_claims,mfa_amr_claims_session_id_fkey,f,FOREIGN KEY (session_id) REFERENCES auth.sessions(id) ON DELETE CASCADE
auth,mfa_challenges,mfa_challenges_auth_factor_id_fkey,f,FOREIGN KEY (factor_id) REFERENCES auth.mfa_factors(id) ON DELETE CASCADE
auth,mfa_challenges,mfa_challenges_pkey,p,PRIMARY KEY (id)
auth,mfa_factors,mfa_factors_last_challenged_at_key,u,UNIQUE (last_challenged_at)
auth,mfa_factors,mfa_factors_pkey,p,PRIMARY KEY (id)
auth,mfa_factors,mfa_factors_user_id_fkey,f,FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE
auth,oauth_authorizations,oauth_authorizations_authorization_code_key,u,UNIQUE (authorization_code)
auth,oauth_authorizations,oauth_authorizations_authorization_code_length,c,CHECK (char_length(authorization_code) <= 255)
auth,oauth_authorizations,oauth_authorizations_authorization_id_key,u,UNIQUE (authorization_id)
auth,oauth_authorizations,oauth_authorizations_client_id_fkey,f,FOREIGN KEY (client_id) REFERENCES auth.oauth_clients(id) ON DELETE CASCADE
auth,oauth_authorizations,oauth_authorizations_code_challenge_length,c,CHECK (char_length(code_challenge) <= 128)
auth,oauth_authorizations,oauth_authorizations_expires_at_future,c,CHECK (expires_at > created_at)
auth,oauth_authorizations,oauth_authorizations_nonce_length,c,CHECK (char_length(nonce) <= 255)
auth,oauth_authorizations,oauth_authorizations_pkey,p,PRIMARY KEY (id)
auth,oauth_authorizations,oauth_authorizations_redirect_uri_length,c,CHECK (char_length(redirect_uri) <= 2048)
auth,oauth_authorizations,oauth_authorizations_resource_length,c,CHECK (char_length(resource) <= 2048)
auth,oauth_authorizations,oauth_authorizations_scope_length,c,CHECK (char_length(scope) <= 4096)
auth,oauth_authorizations,oauth_authorizations_state_length,c,CHECK (char_length(state) <= 4096)
auth,oauth_authorizations,oauth_authorizations_user_id_fkey,f,FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE
auth,oauth_client_states,oauth_client_states_pkey,p,PRIMARY KEY (id)
auth,oauth_clients,oauth_clients_client_name_length,c,CHECK (char_length(client_name) <= 1024)
auth,oauth_clients,oauth_clients_client_uri_length,c,CHECK (char_length(client_uri) <= 2048)
auth,oauth_clients,oauth_clients_logo_uri_length,c,CHECK (char_length(logo_uri) <= 2048)
auth,oauth_clients,oauth_clients_pkey,p,PRIMARY KEY (id)
auth,oauth_clients,oauth_clients_token_endpoint_auth_method_check,c,"CHECK (token_endpoint_auth_method = ANY (ARRAY['client_secret_basic'::text, 'client_secret_post'::text, 'none'::text]))"
auth,oauth_consents,oauth_consents_client_id_fkey,f,FOREIGN KEY (client_id) REFERENCES auth.oauth_clients(id) ON DELETE CASCADE
auth,oauth_consents,oauth_consents_pkey,p,PRIMARY KEY (id)
auth,oauth_consents,oauth_consents_revoked_after_granted,c,CHECK (revoked_at IS NULL OR revoked_at >= granted_at)
auth,oauth_consents,oauth_consents_scopes_length,c,CHECK (char_length(scopes) <= 2048)
auth,oauth_consents,oauth_consents_scopes_not_empty,c,CHECK (char_length(TRIM(BOTH FROM scopes)) > 0)
auth,oauth_consents,oauth_consents_user_client_unique,u,"UNIQUE (user_id, client_id)"
auth,oauth_consents,oauth_consents_user_id_fkey,f,FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE
auth,one_time_tokens,one_time_tokens_pkey,p,PRIMARY KEY (id)
auth,one_time_tokens,one_time_tokens_token_hash_check,c,CHECK (char_length(token_hash) > 0)
auth,one_time_tokens,one_time_tokens_user_id_fkey,f,FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE
auth,refresh_tokens,refresh_tokens_pkey,p,PRIMARY KEY (id)
auth,refresh_tokens,refresh_tokens_session_id_fkey,f,FOREIGN KEY (session_id) REFERENCES auth.sessions(id) ON DELETE CASCADE
auth,refresh_tokens,refresh_tokens_token_unique,u,UNIQUE (token)
auth,saml_providers,entity_id not empty,c,CHECK (char_length(entity_id) > 0)
auth,saml_providers,metadata_url not empty,c,CHECK (metadata_url = NULL::text OR char_length(metadata_url) > 0)
auth,saml_providers,metadata_xml not empty,c,CHECK (char_length(metadata_xml) > 0)
auth,saml_providers,saml_providers_entity_id_key,u,UNIQUE (entity_id)
auth,saml_providers,saml_providers_pkey,p,PRIMARY KEY (id)
auth,saml_providers,saml_providers_sso_provider_id_fkey,f,FOREIGN KEY (sso_provider_id) REFERENCES auth.sso_providers(id) ON DELETE CASCADE
auth,saml_relay_states,request_id not empty,c,CHECK (char_length(request_id) > 0)
auth,saml_relay_states,saml_relay_states_flow_state_id_fkey,f,FOREIGN KEY (flow_state_id) REFERENCES auth.flow_state(id) ON DELETE CASCADE
auth,saml_relay_states,saml_relay_states_pkey,p,PRIMARY KEY (id)
auth,saml_relay_states,saml_relay_states_sso_provider_id_fkey,f,FOREIGN KEY (sso_provider_id) REFERENCES auth.sso_providers(id) ON DELETE CASCADE
auth,schema_migrations,schema_migrations_pkey,p,PRIMARY KEY (version)
auth,sessions,sessions_oauth_client_id_fkey,f,FOREIGN KEY (oauth_client_id) REFERENCES auth.oauth_clients(id) ON DELETE CASCADE
auth,sessions,sessions_pkey,p,PRIMARY KEY (id)
auth,sessions,sessions_scopes_length,c,CHECK (char_length(scopes) <= 4096)
auth,sessions,sessions_user_id_fkey,f,FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE
auth,sso_domains,domain not empty,c,CHECK (char_length(domain) > 0)
auth,sso_domains,sso_domains_pkey,p,PRIMARY KEY (id)
auth,sso_domains,sso_domains_sso_provider_id_fkey,f,FOREIGN KEY (sso_provider_id) REFERENCES auth.sso_providers(id) ON DELETE CASCADE
auth,sso_providers,resource_id not empty,c,CHECK (resource_id = NULL::text OR char_length(resource_id) > 0)
auth,sso_providers,sso_providers_pkey,p,PRIMARY KEY (id)
auth,users,users_email_change_confirm_status_check,c,CHECK (email_change_confirm_status >= 0 AND email_change_confirm_status <= 2)
auth,users,users_phone_key,u,UNIQUE (phone)
auth,users,users_pkey,p,PRIMARY KEY (id)
public,channels,channels_pkey,p,PRIMARY KEY (id)
public,channels,channels_slug_key,u,UNIQUE (slug)
public,comment_likes,comment_likes_comment_id_fkey,f,FOREIGN KEY (comment_id) REFERENCES comments(id) ON DELETE CASCADE
public,comment_likes,comment_likes_pkey,p,"PRIMARY KEY (comment_id, user_id)"
public,comment_likes,comment_likes_user_id_fkey,f,FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE
public,comments,comments_author_id_fkey,f,FOREIGN KEY (author_id) REFERENCES profiles(id) ON DELETE CASCADE
public,comments,comments_parent_comment_id_fkey,f,FOREIGN KEY (parent_comment_id) REFERENCES comments(id) ON DELETE CASCADE
public,comments,comments_pkey,p,PRIMARY KEY (id)
public,comments,comments_post_id_fkey,f,FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE
public,comments,fk_comments_author_id_profiles,f,FOREIGN KEY (author_id) REFERENCES profiles(id) ON DELETE RESTRICT
public,comments,fk_comments_post_id_posts,f,FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE
public,community_notes,community_notes_body_len,c,CHECK (char_length(body) >= 1 AND char_length(body) <= 220)
public,community_notes,community_notes_pkey,p,PRIMARY KEY (id)
public,community_notes,community_notes_user_id_fkey,f,FOREIGN KEY (user_id) REFERENCES profiles(id) ON DELETE CASCADE
public,contact_messages,contact_messages_message_len_check,c,CHECK (char_length(message) >= 10 AND char_length(message) <= 5000)
public,contact_messages,contact_messages_pkey,p,PRIMARY KEY (id)
public,contact_messages,contact_messages_status_check,c,"CHECK (status = ANY (ARRAY['open'::text, 'resolved'::text]))"
public,contact_messages,contact_messages_subject_len_check,c,CHECK (char_length(subject) >= 2 AND char_length(subject) <= 120)
public,contact_messages,contact_messages_user_id_fkey,f,FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE SET NULL
public,conversation_members,conversation_members_conversation_id_fkey,f,FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE
public,conversation_members,conversation_members_pkey,p,"PRIMARY KEY (conversation_id, user_id)"
public,conversation_members,conversation_members_user_id_fkey,f,FOREIGN KEY (user_id) REFERENCES profiles(id) ON DELETE CASCADE
public,conversations,conversations_pkey,p,PRIMARY KEY (id)
public,formats,formats_channel_id_fkey,f,FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE
public,formats,formats_channel_id_slug_key,u,"UNIQUE (channel_id, slug)"
public,formats,formats_pkey,p,PRIMARY KEY (id)
public,messages,messages_conversation_id_fkey,f,FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE
public,messages,messages_pkey,p,PRIMARY KEY (id)
public,messages,messages_sender_id_fkey,f,FOREIGN KEY (sender_id) REFERENCES profiles(id) ON DELETE CASCADE
public,moderation_actions,moderation_actions_pkey,p,PRIMARY KEY (id)
public,notifications,notifications_actor_id_fkey,f,FOREIGN KEY (actor_id) REFERENCES profiles(id) ON DELETE SET NULL
public,notifications,notifications_pkey,p,PRIMARY KEY (id)
public,notifications,notifications_type_check,c,"CHECK (type = ANY (ARRAY['system_message'::text, 'new_post'::text, 'comment'::text, 'reaction'::text, 'post_deleted'::text, 'follow'::text, 'comment_like'::text]))"
public,notifications,notifications_unique_event,u,"UNIQUE (user_id, type, actor_id, entity_id)"
public,notifications,notifications_user_id_fkey,f,FOREIGN KEY (user_id) REFERENCES profiles(id) ON DELETE CASCADE
public,post_bookmarks,post_bookmarks_pkey,p,"PRIMARY KEY (user_id, post_id)"
public,post_bookmarks,post_bookmarks_post_id_fkey,f,FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE
public,post_bookmarks,post_bookmarks_user_id_fkey,f,FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE
public,post_reaction_votes,fk_prv_post_id_posts,f,FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE
public,post_reaction_votes,fk_prv_reaction_key_reactions,f,FOREIGN KEY (reaction_key) REFERENCES reactions(key) ON DELETE RESTRICT
public,post_reaction_votes,fk_prv_voter_id_profiles,f,FOREIGN KEY (voter_id) REFERENCES profiles(id) ON DELETE RESTRICT
public,post_reaction_votes,post_reaction_votes_pkey,p,PRIMARY KEY (id)
public,post_reaction_votes,post_reaction_votes_post_id_fkey,f,FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE
public,post_reaction_votes,post_reaction_votes_post_id_voter_id_reaction_key_key,u,"UNIQUE (post_id, voter_id, reaction_key)"
public,post_reaction_votes,post_reaction_votes_reaction_key_fkey,f,FOREIGN KEY (reaction_key) REFERENCES reactions(key) ON DELETE RESTRICT
public,post_reaction_votes,post_reaction_votes_voter_id_fkey,f,FOREIGN KEY (voter_id) REFERENCES auth.users(id) ON DELETE CASCADE
public,post_tags,fk_post_tags_post_id_posts,f,FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE
public,post_tags,fk_post_tags_tag_id_tags,f,FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE
public,post_tags,post_tags_pkey,p,"PRIMARY KEY (post_id, tag_id)"
public,post_tags,post_tags_post_id_fkey,f,FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE
public,post_tags,post_tags_tag_id_fkey,f,FOREIGN KEY (tag_id) REFERENCES tags(id) ON DELETE CASCADE
public,post_votes,fk_post_votes_post_id_posts,f,FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE
public,post_votes,fk_post_votes_voter_id_profiles,f,FOREIGN KEY (voter_id) REFERENCES profiles(id) ON DELETE RESTRICT
public,post_votes,post_votes_pkey,p,"PRIMARY KEY (post_id, voter_id, rating)"
public,post_votes,post_votes_post_id_fkey,f,FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE
public,post_votes,post_votes_voter_id_fkey,f,FOREIGN KEY (voter_id) REFERENCES auth.users(id) ON DELETE CASCADE
public,posts,fk_posts_subcategory_tag_id_tags,f,FOREIGN KEY (subcategory_tag_id) REFERENCES tags(id) ON DELETE SET NULL
public,posts,posts_author_id_fkey,f,FOREIGN KEY (author_id) REFERENCES profiles(id) ON DELETE SET NULL
public,posts,posts_channel_id_fkey,f,FOREIGN KEY (channel_id) REFERENCES channels(id)
public,posts,posts_format_id_fkey,f,FOREIGN KEY (format_id) REFERENCES formats(id)
public,posts,posts_pkey,p,PRIMARY KEY (id)
public,posts,posts_slug_key,u,UNIQUE (slug)
public,posts,posts_subcategory_tag_fk,f,FOREIGN KEY (subcategory_tag_id) REFERENCES tags(id) ON DELETE SET NULL
public,profiles,profiles_bio_len,c,CHECK (bio IS NULL OR char_length(bio) <= 120)
public,profiles,profiles_id_fkey,f,FOREIGN KEY (id) REFERENCES auth.users(id) ON DELETE CASCADE
public,profiles,profiles_personal_about_len,c,CHECK (personal_about IS NULL OR char_length(personal_about) <= 280)
public,profiles,profiles_personal_age_range,c,CHECK (personal_age IS NULL OR personal_age >= 0 AND personal_age <= 150)
public,profiles,profiles_personal_books_len,c,CHECK (personal_books IS NULL OR char_length(personal_books) <= 80)
public,profiles,profiles_personal_favorite_category_len,c,CHECK (personal_favorite_category IS NULL OR char_length(personal_favorite_category) <= 30)
public,profiles,profiles_personal_occupation_len,c,CHECK (personal_occupation IS NULL OR char_length(personal_occupation) <= 60)
public,profiles,profiles_personal_writing_about_len,c,CHECK (personal_writing_about IS NULL OR char_length(personal_writing_about) <= 80)
public,profiles,profiles_pkey,p,PRIMARY KEY (id)
public,profiles,profiles_username_key,u,UNIQUE (username)
public,profiles,profiles_username_unique,u,UNIQUE (username)
public,reactions,reactions_channel_id_fkey,f,FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE
public,reactions,reactions_pkey,p,PRIMARY KEY (key)
public,reports_old,reports_pkey,p,PRIMARY KEY (id)
public,reports_old,reports_reported_user_id_fkey,f,FOREIGN KEY (reported_user_id) REFERENCES auth.users(id) ON DELETE CASCADE
public,reports_old,reports_reporter_id_fkey,f,FOREIGN KEY (reporter_id) REFERENCES auth.users(id) ON DELETE CASCADE
public,reports_old,reports_resolved_by_fkey,f,FOREIGN KEY (resolved_by) REFERENCES auth.users(id) ON DELETE SET NULL
public,reports_old,reports_status_check,c,"CHECK (status = ANY (ARRAY['open'::text, 'resolved'::text]))"
public,tags,tags_channel_id_fkey,f,FOREIGN KEY (channel_id) REFERENCES channels(id) ON DELETE CASCADE
public,tags,tags_channel_id_type_slug_key,u,"UNIQUE (channel_id, type, slug)"
public,tags,tags_pkey,p,PRIMARY KEY (id)
public,user_follows,user_follows_follower_id_fkey,f,FOREIGN KEY (follower_id) REFERENCES profiles(id) ON DELETE CASCADE
public,user_follows,user_follows_following_id_fkey,f,FOREIGN KEY (following_id) REFERENCES profiles(id) ON DELETE CASCADE
public,user_follows,user_follows_no_self_follow,c,CHECK (follower_id <> following_id)
public,user_follows,user_follows_pk,p,"PRIMARY KEY (follower_id, following_id)"
public,user_reports,user_reports_category_check,c,"CHECK (category = ANY (ARRAY['harassment'::text, 'spam'::text, 'self-harm'::text, 'other'::text]))"
public,user_reports,user_reports_pkey,p,PRIMARY KEY (id)
public,user_reports,user_reports_reported_user_id_fkey,f,FOREIGN KEY (reported_user_id) REFERENCES auth.users(id) ON DELETE CASCADE
public,user_reports,user_reports_reporter_id_fkey,f,FOREIGN KEY (reporter_id) REFERENCES auth.users(id) ON DELETE CASCADE
public,user_reports,user_reports_status_check,c,"CHECK (status = ANY (ARRAY['open'::text, 'resolved'::text]))"
storage,buckets,buckets_pkey,p,PRIMARY KEY (id)
storage,buckets_analytics,buckets_analytics_pkey,p,PRIMARY KEY (id)
storage,buckets_vectors,buckets_vectors_pkey,p,PRIMARY KEY (id)
storage,migrations,migrations_name_key,u,UNIQUE (name)
storage,migrations,migrations_pkey,p,PRIMARY KEY (id)
storage,objects,objects_bucketId_fkey,f,FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)
storage,objects,objects_pkey,p,PRIMARY KEY (id)
storage,prefixes,prefixes_bucketId_fkey,f,FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)
storage,prefixes,prefixes_pkey,p,"PRIMARY KEY (bucket_id, level, name)"
storage,s3_multipart_uploads,s3_multipart_uploads_bucket_id_fkey,f,FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)
storage,s3_multipart_uploads,s3_multipart_uploads_pkey,p,PRIMARY KEY (id)
storage,s3_multipart_uploads_parts,s3_multipart_uploads_parts_bucket_id_fkey,f,FOREIGN KEY (bucket_id) REFERENCES storage.buckets(id)
storage,s3_multipart_uploads_parts,s3_multipart_uploads_parts_pkey,p,PRIMARY KEY (id)
storage,s3_multipart_uploads_parts,s3_multipart_uploads_parts_upload_id_fkey,f,FOREIGN KEY (upload_id) REFERENCES storage.s3_multipart_uploads(id) ON DELETE CASCADE
storage,vector_indexes,vector_indexes_bucket_id_fkey,f,FOREIGN KEY (bucket_id) REFERENCES storage.buckets_vectors(id)
storage,vector_indexes,vector_indexes_pkey,p,PRIMARY KEY (id)